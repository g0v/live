{"version":3,"file":"_public/app.js","sources":["app/config.js","app/scripts/live.js","app/scripts/status_bar.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CCRA;CCAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["var APP_CONFIG = window.APP_CONFIG = {\n  \"BUILD\": \"git-unknown\",\n  \"DISABLE_REPORTING_TIME\": 300000,\n  \"SOCIAL_REFRESH_TIME\":    300000,\n  \"GOOGLE_ANALYTICS\": {\n    \"TRACKING_ID\": 'UA-50192245-1'\n  }\n}\n","","(function($) {\n\n$(document).ready(function() {\n\n  // Load Google Analytics dynamically.\n  // TODO: Use jsenv instead.\n  console.log('[status_bar] GA:TrackingID = ' + APP_CONFIG.GOOGLE_ANALYTICS.TRACKING_ID);\n  ga('create', APP_CONFIG.GOOGLE_ANALYTICS.TRACKING_ID, { 'cookieDomain': 'none' });\n  ga('send', 'pageview');\n\n  var ga_push = function(category, action, label, value) {\n    // Universal Analytics\n    if (typeof window.ga === \"function\") {\n      // https://developers.google.com/analytics/devguides/collection/analyticsjs/field-reference\n      var event = {\n        \"hitType\": \"event\",\n        \"location\": window.location,\n        \"title\": window.document.title\n      };\n\n      if (category)       { event[\"eventCategory\"]  = category;       }\n      if (action)         { event[\"eventAction\"]    = action;         }\n      if (label)          { event[\"eventLabel\"]     = label;          }\n      if (value)          { event[\"eventValue\"]     = value;          }\n\n//    console.log(event);\n      window.ga(\"send\", event);\n    }\n  };\n\n  // Get video URL\n  var pos = document.location.href.indexOf('?');\n  var url = (pos < 0) ? '-' : decodeURIComponent(document.location.href.slice(pos + 1));\n  console.log('[status_bar] url=' + url);\n\n  // https://github.com/sapegin/social-likes\n  var update_social_likes = function() {\n    $('#social-likes').socialLikes({ counters: true, forceUpdate: true, url: url, title: '<title>' });\n    console.log('updated social-likes');\n    setTimeout(update_social_likes, APP_CONFIG.SOCIAL_REFRESH_TIME);\n  };\n  update_social_likes();\n\n  $('.report-status').click(function(event) {\n    var status = $(this).data('videoStatus');\n    if (status) {\n      console.log('[status_bar] report video status as \"' + status + '\" for ' + url);\n      ga_push('VideoStatus', 'report-' + status, url);\n\n      console.log('[status_bar] disable all reporting buttons');\n      $('.report-status').attr('disabled', 'disabled');\n      setTimeout(function() {\n        $('.report-status').removeAttr('disabled');\n        console.log('[status_bar] enable all reporting buttons');\n      }, APP_CONFIG.DISABLE_REPORTING_TIME);\n    }\n  });\n});\n\n})(jQuery);\n"]}